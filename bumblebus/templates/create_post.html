{% extends "base.html" %}

{% block content %}

	<h1>{{ legend }}</h1>

	<div class="content-section">
		<div class="row justify-content-center">
			<div class="col-md-4" style="background-color: #fff;" >
		
				<!-- action will POST the information to the same route that we are currently on -->
				<form method="POST" action="" enctype="multipart/form-data">
					<!-- creates the CSRF token, cross site request forgery -->
					{{ form.hidden_tag() }}
					<fieldset class="form-group">
						<legend class="border-bottom mb-4">New Post</legend>


						<div class="form-group ">
							{{ form.postType.label(class="form-check-inline") }}
							{% for field in form.postType %}
								<tr>
									<th>{{ field }}</th>
									<td>{{ field.label(class="me-2") }}</td>
								</tr>
							{% endfor %}											
						</div>


						<div class="form-group">
							{{ form.title.label(class="form-control-label mt-1") }}
							{% if form.title.errors %}
								{{ form.title(class="form-control form-control-lg is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.title.errors%}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.title(class="form-control form-control-lg") }}
							{% endif %}
						</div>


						<div class="form-group">
							{{ form.content.label(class="form-control-label mt-1") }}
							{% if form.content.errors %}
								{{ form.content(class="form-control form-control-lg is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.content.errors%}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.content(class="form-control form-control-lg") }}
							{% endif %}
						</div>


						<div class="form-group">
							{{ form.summary.label(class="form-control-label mt-1") }}
							{% if form.summary.errors %}
								{{ form.summary(class="form-control form-control-lg is-invalid") }}
								<div class="invalid-feedback">
									{% for error in form.summary.errors%}
										<span>{{ error }}</span>
									{% endfor %}
								</div>
							{% else %}
								{{ form.summary(class="form-control form-control-lg") }}
							{% endif %}
						</div>


						<div class="form-group">
							{{ form.picture.label(class="mt-1") }} <br>
							{{ form.picture(class="form-control-file mt-1") }}
							{% if form.picture.errors %}
								{% for error in form.picture.errors%}
									<span class="text-danger">{{ error }}</span><br>
								{% endfor %}
							{% endif %}
						</div>


						<div class="form-group form-check form-switch mt-1">
							{{ form.pinned(class="form-check-input mt-2", type="checkbox",  id="flexSwitchCheckDefault") }}
							{{ form.pinned.label(class="form-check-label mt-1", for="flexSwitchCheckDefault") }}
						</div>


						<div class="form-group form-check form-switch mt-1">
							{{ form.published(class="form-check-input mt-2", type="checkbox",  id="flexSwitchCheckDefault") }}
							{{ form.published.label(class="form-check-label mt-1", for="flexSwitchCheckDefault") }}
						</div>


					</fieldset>
					<div class="form-group pb-2">
						{{ form.submit(class="btn btn-outline-info mt-3" ) }}
					</div>
				</form>
			</div>
		</div>
	</div>

{% endblock %}